<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="description" content="Здесь есть только те музыке котрый мне нравиться!!!">
    <meta name="theme-color" content="#1db954">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="manifest" href="/manifest.json">
    <link rel="apple-touch-icon" href="https://avatars.mds.yandex.net/i?id=27fecf84272fbdb15a5fb2ee8b7a8754cd8a547e-5228520-images-thumbs&n=13">
    <link rel="icon" type="image/png" href="https://avatars.mds.yandex.net/i?id=27fecf84272fbdb15a5fb2ee8b7a8754cd8a547e-5228520-images-thumbs&n=13">
    <title>Музыкальный Плеер</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
    <style>
        /* Переменные для тем */
        :root {
            --primary: #1db954;
            --primary-hover: #1ed760;
            --dark: #121212;
            --dark-secondary: #181818;
            --dark-tertiary: #282828;
            --text-primary: #ffffff;
            --text-secondary: #b3b3b3;
        }
        .light-theme {
            --dark: #f5f5f5;
            --dark-secondary: #e5e5e5;
            --dark-tertiary: #d4d4d4;
            --text-primary: #000000;
            --text-secondary: #666666;
        }

        /* Общие стили */
        body {
            font-family: 'Poppins', sans-serif;
            background-color: var(--dark);
            color: var(--text-primary);
            overflow-x: hidden;
            transition: background-color 0.3s ease, color 0.3s ease;
        }

        /* Карточки треков и плейлистов */
        .music-card, .playlist-card {
            transition: all 0.3s ease;
            cursor: pointer;
            background: var(--dark-secondary);
            border-radius: 12px;
            overflow: hidden;
        }
        .music-card:hover, .playlist-card:hover {
            transform: translateY(-5px);
            background: var(--dark-tertiary);
        }

        /* Полноэкранные тексты песен */
        .fullscreen-lyrics {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.95);
            z-index: 1000;
            display: flex;
            flex-direction: column;
            padding: 2rem;
            overflow-y: auto;
        }
        .light-theme .fullscreen-lyrics {
            background: rgba(255, 255, 255, 0.95);
        }
        .fullscreen-lyrics-content {
            flex: 1;
            overflow-y: auto;
            font-size: 1.8rem;
            line-height: 2rem;
            white-space: pre-wrap;
            text-align: center;
            padding: 2rem 1rem;
        }
        .fullscreen-lyrics .lyric-line {
            margin-bottom: 2rem;
            opacity: 0.6;
            transition: all 0.3s ease;
            line-height: 1.4;
        }
        .fullscreen-lyrics .lyric-line.active {
            font-size: 2.2rem;
            opacity: 1;
            color: var(--primary);
            font-weight: 600;
            animation: lyricGlow 0.5s ease-in-out;
        }
        @keyframes lyricGlow {
            0% { transform: scale(1); text-shadow: none; }
            50% { transform: scale(1.1); text-shadow: 0 0 10px var(--primary), 0 0 20px var(--primary); }
            100% { transform: scale(1); text-shadow: 0 0 5px var(--primary); }
        }

        /* Кнопки управления */
        .theme-toggle-btn, .share-btn, .translation-toggle, .autoplay-toggle, .loop-toggle, .nav-btn, .offline-btn {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            background: var(--dark-tertiary);
            color: var(--text-primary);
            padding: 0.5rem 1rem;
            border-radius: 9999px;
            font-size: 0.9rem;
            font-weight: 500;
            transition: background-color 0.3s ease, transform 0.2s ease;
        }
        .theme-toggle-btn:hover, .share-btn:hover, .translation-toggle:hover, .autoplay-toggle:hover, .loop-toggle:hover, .nav-btn:hover, .offline-btn:hover {
            background: var(--primary);
            transform: scale(1.05);
        }
        .nav-btn {
            padding: 0.75rem;
            background: var(--dark-secondary);
        }

        /* Полноэкранные элементы */
        .close-fullscreen, .fullscreen-toggle {
            background: var(--dark-tertiary);
            color: var(--text-primary);
            border-radius: 50%;
            padding: 0.5rem;
            transition: background-color 0.3s ease;
        }
        .close-fullscreen:hover, .fullscreen-toggle:hover {
            background: var(--primary);
        }

        /* Прогресс-бар и ползунок громкости */
        input[type="range"] {
            -webkit-appearance: none;
            background: var(--dark-tertiary);
            height: 4px;
            border-radius: 2px;
        }
        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 12px;
            height: 12px;
            background: var(--primary);
            border-radius: 50%;
            cursor: pointer;
        }

        /* Скроллбар */
        ::-webkit-scrollbar {
            width: 6px;
        }
        ::-webkit-scrollbar-track {
            background: var(--dark-secondary);
        }
        ::-webkit-scrollbar-thumb {
            background: var(--primary);
            border-radius: 3px;
        }

        /* Модальные окна */
        .modal {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1002;
        }
        .modal-content {
            background: var(--dark-secondary);
            padding: 2rem;
            border-radius: 12px;
            width: 90%;
            max-width: 400px;
        }
        .modal-content input {
            background: var(--dark-tertiary);
            color: var(--text-primary);
            border: none;
            padding: 0.5rem;
            border-radius: 8px;
            width: 100%;
            margin-bottom: 1rem;
        }

        /* Уведомление об офлайн-режиме */
        #offline-warning {
            transition: opacity 0.3s ease;
        }

        /* Адаптивность */
        @media (max-width: 768px) {
            .fullscreen-lyrics .lyric-line {
                font-size: 1.5rem;
                margin-bottom: 1.5rem;
            }
            .fullscreen-lyrics .lyric-line.active {
                font-size: 1.8rem;
            }
            .track-view-container {
                flex-direction: column;
            }
            .track-image-container, .lyrics-container {
                width: 100% !important;
                padding: 0 !important;
            }
            .music-card:hover, .playlist-card:hover {
                transform: none;
            }
        }
    </style>
</head>
<body class="text-white">
    <div id="offline-warning" class="fixed top-0 left-0 right-0 bg-yellow-600 text-white text-center p-2 hidden">
        Вы в офлайн-режиме. Некоторые функции могут быть недоступны.
    </div>
    <div id="app" class="container mx-auto px-4 py-8 pb-24">
        <!-- Главный экран -->
        <div id="main-view">
            <header class="flex justify-between items-center mb-8">
                <h1 class="text-3xl font-bold bg-gradient-to-r from-green-400 to-green-600 bg-clip-text text-transparent">
                    Музыкальный Плеер
                </h1>
                <div class="flex items-center gap-4">
                    <button id="theme-toggle" class="theme-toggle-btn" aria-label="Переключить тему">
                        <svg id="theme-icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                        </svg>
                        <span id="theme-text">Светлая тема</span>
                    </button>
                </div>
            </header>
            <div class="mb-8">
                <div class="flex justify-between items-center mb-4">
                    <h2 class="text-2xl font-semibold">Плейлисты</h2>
                    <button onclick="openCreatePlaylistModal()" class="bg-green-600 px-4 py-2 rounded-full hover:bg-green-700 transition">
                        Создать плейлист
                    </button>
                </div>
                <div id="playlists-grid" class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4"></div>
            </div>
            <div class="mb-8">
                <h2 class="text-2xl font-semibold mb-4">Популярные треки</h2>
                <div class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4">
                    <div class="music-card" onclick="openTrack('1')">
                        <img src="https://avatars.mds.yandex.net/i?id=a3b036bcdd2d49eb7a42cd3f220f0d15f0f1af8f-5180074-images-thumbs&n=13" alt="No one noticed" class="w-full aspect-square object-cover">
                        <div class="p-3">
                            <h3 class="font-medium truncate">No one noticed</h3>
                            <p class="text-sm text-gray-400 truncate">The Marias</p>
                        </div>
                    </div>
                    <div class="music-card" onclick="openTrack('2')">
                        <img src="https://avatars.mds.yandex.net/i?id=e10d9bfd4cd146262fcaaaa8c938c7d52a42cf89-12421984-images-thumbs&n=13" alt="Forever" class="w-full aspect-square object-cover">
                        <div class="p-3">
                            <h3 class="font-medium truncate">Forever</h3>
                            <p class="text-sm text-gray-400 truncate">IlyTOMMY</p>
                        </div>
                    </div>
                    <div class="music-card" onclick="openTrack('3')">
                        <img src="https://avatars.mds.yandex.net/i?id=e946426773349bb7f5f56c5e50ce888a-3979407-images-thumbs&n=13" alt="Сердце" class="w-full aspect-square object-cover">
                        <div class="p-3">
                            <h3 class="font-medium truncate">Сердце</h3>
                            <p class="text-sm text-gray-400 truncate">Passmurny</p>
                        </div>
                    </div>
                    <div class="music-card" onclick="openTrack('4')">
                        <img src="https://avatars.mds.yandex.net/i?id=e74153a916c8406af9b56341bbee38941e4fba58-4252773-images-thumbs&n=13" alt="Thinking about you" class="w-full aspect-square object-cover">
                        <div class="p-3">
                            <h3 class="font-medium truncate">Thinking about you</h3>
                            <p class="text-sm text-gray-400 truncate">Keepitinside</p>
                        </div>
                    </div>
                    <div class="music-card" onclick="openTrack('5')">
                        <img src="https://avatars.mds.yandex.net/i?id=b1dc664f35c06330156f8621bd3b1771272c94fd-5016797-images-thumbs&n=13" alt="Ocean" class="w-full aspect-square object-cover">
                        <div class="p-3">
                            <h3 class="font-medium truncate">Ocean</h3>
                            <p class="text-sm text-gray-400 truncate">Elsa & Emilie</p>
                        </div>
                    </div>
                    <div class="music-card" onclick="openTrack('6')">
                        <img src="https://avatars.mds.yandex.net/i?id=bdc49464e2a20cf900f4f790daf8cdf9c21c3cef-5175116-images-thumbs&n=13" alt="Him & I" class="w-full aspect-square object-cover">
                        <div class="p-3">
                            <h3 class="font-medium truncate">Him & I</h3>
                            <p class="text-sm text-gray-400 truncate">G-Eazy, Halsey</p>
                        </div>
                    </div>
                    <div class="music-card" onclick="openTrack('7')">
                        <img src="https://avatars.mds.yandex.net/i?id=391fff669a891c4b354146a6baa1993b05fcdbb1-5428168-images-thumbs&n=13" alt="Письмо" class="w-full aspect-square object-cover">
                        <div class="p-3">
                            <h3 class="font-medium truncate">Письмо</h3>
                            <p class="text-sm text-gray-400 truncate">Xcho</p>
                        </div>
                    </div>
                    <div class="music-card" onclick="openTrack('8')">
                        <img src="https://avatars.mds.yandex.net/i?id=6687dcc0c2a990f5b4f029f8d70af963f0952665-12615842-images-thumbs&n=13" alt="Душа моей души" class="w-full aspect-square object-cover">
                        <div class="p-3">
                            <h3 class="font-medium truncate">Душа моей души</h3>
                            <p class="text-sm text-gray-400 truncate">Adam</p>
                        </div>
                    </div>
                    <div class="music-card" onclick="openTrack('9')">
                        <img src="https://avatars.mds.yandex.net/i?id=b920c30232aff5b4ef9d76dc2201617c46cd937a-8325401-images-thumbs&n=13" alt="Безусловная любовь" class="w-full aspect-square object-cover">
                        <div class="p-3">
                            <h3 class="font-medium truncate">Безусловная любовь</h3>
                            <p class="text-sm text-gray-400 truncate">MONA, NAVAI</p>
                        </div>
                    </div>
                    <div class="music-card" onclick="openTrack('10')">
                        <img src="https://avatars.mds.yandex.net/i?id=b1cf179b59221c34b9634162c57082aea4c7e710-13008278-images-thumbs&n=13" alt="Когда исчезнет Слово" class="w-full aspect-square object-cover">
                        <div class="p-3">
                            <h3 class="font-medium truncate">Когда исчезнет Слово</h3>
                            <p class="text-sm text-gray-400 truncate">MOT</p>
                        </div>
                    </div>
                    <div class="music-card" onclick="openTrack('11')">
                        <img src="https://avatars.mds.yandex.net/i?id=7c760dc76e8c320fc6e9444549d8302123169b2f-4885555-images-thumbs&n=13" alt="Нужна" class="w-full aspect-square object-cover">
                        <div class="p-3">
                            <h3 class="font-medium truncate">Нужна</h3>
                            <p class="text-sm text-gray-400 truncate">M'Dee</p>
                        </div>
                    </div>
                    <div class="music-card" onclick="openTrack('12')">
                        <img src="https://avatars.mds.yandex.net/i?id=ab22ffe40fd88e00b259a161c23cc4a7db347f1c-5310207-images-thumbs&n=13" alt="Помню" class="w-full aspect-square object-cover">
                        <div class="p-3">
                            <h3 class="font-medium truncate">Помню</h3>
                            <p class="text-sm text-gray-400 truncate">ergabvs</p>
                        </div>
                    </div>
                    <div class="music-card" onclick="openTrack('13')">
                        <img src="https://avatars.mds.yandex.net/i?id=1b556837f878744f4c5cb5e26d3c8a164272e9fc-5889107-images-thumbs&n=13" alt="Апаке" class="w-full aspect-square object-cover">
                        <div class="p-3">
                            <h3 class="font-medium truncate">Апаке</h3>
                            <p class="text-sm text-gray-400 truncate">ergabvs</p>
                        </div>
                    </div>
                    <div class="music-card" onclick="openTrack('14')">
                        <img src="https://avatars.mds.yandex.net/i?id=c78686e9c8774955faf2b927baafa0cb1c12dff5-5352007-images-thumbs&n=13" alt="В метре" class="w-full aspect-square object-cover">
                        <div class="p-3">
                            <h3 class="font-medium truncate">В Метре</h3>
                            <p class="text-sm text-gray-400 truncate">ergabvs</p>
                        </div>
                    </div>
                    <div class="music-card" onclick="openTrack('15')">
                        <img src="https://avatars.mds.yandex.net/i?id=36364a1d68bfd85fdc38594973f5c932cca0bf2e-5502450-images-thumbs&n=13" alt="глазки" class="w-full aspect-square object-cover">
                        <div class="p-3">
                            <h3 class="font-medium truncate">глазки</h3>
                            <p class="text-sm text-gray-400 truncate">ergabvs</p>
                        </div>
                    </div>
                    <div class="music-card" onclick="openTrack('16')">
                        <img src="https://avatars.mds.yandex.net/i?id=912a03f2b0bebbb3d28f4549c912e2eeed10f603-5250695-images-thumbs&n=13" alt="Watch" class="w-full aspect-square object-cover">
                        <div class="p-3">
                            <h3 class="font-medium truncate">Watch</h3>
                            <p class="text-sm text-gray-400 truncate">Billie Eilish</p>
                        </div>
                    </div>
                    <div class="music-card" onclick="openTrack('17')">
                        <img src="https://avatars.mds.yandex.net/i?id=2961ee1d4d13a5079e2a167b22519b8c563152ae-12601053-images-thumbs&n=13" alt="IVL" class="w-full aspect-square object-cover">
                        <div class="p-3">
                            <h3 class="font-medium truncate">IVL</h3>
                            <p class="text-sm text-gray-400 truncate">MACAN,SCIRENA</p>
                        </div>
                    </div>
                    <div class="music-card" onclick="openTrack('18')">
                        <img src="https://avatars.mds.yandex.net/i?id=411a3c09709c5bc766ba8f1b0a0fc05ab4f541e7-5234556-images-thumbs&n=13" alt="L" class="w-full aspect-square object-cover">
                        <div class="p-3">
                            <h3 class="font-medium truncate">L</h3>
                            <p class="text-sm text-gray-400 truncate">MACAN</p>
                        </div>
                    </div>
                    <div class="music-card" onclick="openTrack('19')">
                        <img src="https://avatars.mds.yandex.net/i?id=d37778a5e1d9a0a431cbdcdc8f6348b5b8db997c-10877992-images-thumbs&n=13" alt="Подруга" class="w-full aspect-square object-cover">
                        <div class="p-3">
                            <h3 class="font-medium truncate">подруга</h3>
                            <p class="text-sm text-gray-400 truncate">ния</p>
                        </div>
                    </div>
                    <div class="music-card" onclick="openTrack('20')">
                        <img src="https://avatars.mds.yandex.net/i?id=8cd9934fdcee39c375fe8d658d9b2bc1c10ffd56-10158740-images-thumbs&n=13" alt="Eyes" class="w-full aspect-square object-cover">
                        <div class="p-3">
                            <h3 class="font-medium truncate">Eyes</h3>
                            <p class="text-sm text-gray-400 truncate">V$XVPRINCE, ния</p>
                        </div>
                    </div>
                    <div class="music-card" onclick="openTrack('21')">
                        <img src="https://avatars.mds.yandex.net/i?id=94ce411e078c32c8928ccdc03a55cf21073a1836-5513776-images-thumbs&n=13" alt="На 2 их" class="w-full aspect-square object-cover">
                        <div class="p-3">
                            <h3 class="font-medium truncate">На 2 их</h3>
                            <p class="text-sm text-gray-400 truncate">V$XVPRINCE, Витя АК</p>
                        </div>
                    </div>
                    <div class="music-card" onclick="openTrack('22')">
                        <img src="https://avatars.mds.yandex.net/i?id=05e15f4c1d0a0ae71f784c8f2b12c5ac4ab9b9b5-5234303-images-thumbs&n=13" alt="Цветы" class="w-full aspect-square object-cover">
                        <div class="p-3">
                            <h3 class="font-medium truncate">Цветы</h3>
                            <p class="text-sm text-gray-400 truncate">V$XVPRINCE</p>
                        </div>
                    </div>
                    <div class="music-card" onclick="openTrack('23')">
                        <img src="https://avatars.mds.yandex.net/i?id=d1501583af54a81c691bea651eda2bf2a67fb9fa-4567411-images-thumbs&n=13" alt="Раздевайся" class="w-full aspect-square object-cover">
                        <div class="p-3">
                            <h3 class="font-medium truncate">Раздевайся</h3>
                            <p class="text-sm text-gray-400 truncate">V$XVPRINCE</p>
                        </div>
                    </div>
                    <div class="music-card" onclick="openTrack('24')">
                        <img src="https://avatars.mds.yandex.net/i?id=02c89bef920c1983169c74c7cf9fdcbe3717e29c-5335451-images-thumbs&n=13" alt="Big City Life" class="w-full aspect-square object-cover">
                        <div class="p-3">
                            <h3 class="font-medium truncate">Big City Life</h3>
                            <p class="text-sm text-gray-400 truncate">V$XVPRINCE</p>
                        </div>
                    </div>
                    <div class="music-card" onclick="openTrack('25')">
                        <img src="https://avatars.mds.yandex.net/i?id=15906725db43b7a2fca5d3d8b5daccf737156115-5551764-images-thumbs&n=13" alt="Керек Емессин" class="w-full aspect-square object-cover">
                        <div class="p-3">
                            <h3 class="font-medium truncate">Керек Емессин</h3>
                            <p class="text-sm text-gray-400 truncate">V$XVPRINCE</p>
                        </div>
                    </div>
                    <div class="music-card" onclick="openTrack('26')">
                        <img src="https://avatars.mds.yandex.net/i?id=15906725db43b7a2fca5d3d8b5daccf737156115-5551764-images-thumbs&n=13" alt="Tokyo" class="w-full aspect-square object-cover">
                        <div class="p-3">
                            <h3 class="font-medium truncate">Tokyo</h3>
                            <p class="text-sm text-gray-400 truncate">V$XVPRINCE</p>
                        </div>
                    </div>
                    <div class="music-card" onclick="openTrack('27')">
                        <img src="https://avatars.mds.yandex.net/i?id=15906725db43b7a2fca5d3d8b5daccf737156115-5551764-images-thumbs&n=13" alt="Мурашки" class="w-full aspect-square object-cover">
                        <div class="p-3">
                            <h3 class="font-medium truncate">Мурашки</h3>
                            <p class="text-sm text-gray-400 truncate">V$XVPRINCE</p>
                        </div>
                    </div>
                    <div class="music-card" onclick="openTrack('28')">
                        <img src="https://avatars.mds.yandex.net/i?id=b7dc423aa42c505546af754c72979d9da191abe1-16297497-images-thumbs&n=13" alt="Между нами" class="w-full aspect-square object-cover">
                        <div class="p-3">
                            <h3 class="font-medium truncate">Между нами </h3>
                            <p class="text-sm text-gray-400 truncate">Lizer</p>
                        </div>
                    </div>
                    <div class="music-card" onclick="openTrack('29')">
                        <img src="https://avatars.mds.yandex.net/i?id=e2d1158c084fc20b7cd1a5db70b31e27e13f7632-7760813-images-thumbs&n=13" alt="За плохое, за хорошее" class="w-full aspect-square object-cover">
                        <div class="p-3">
                            <h3 class="font-medium truncate">За плохое, за хорошее</h3>
                            <p class="text-sm text-gray-400 truncate">Santiz</p>
                        </div>
                    </div>
                    <div class="music-card" onclick="openTrack('30')">
                        <img src="https://avatars.mds.yandex.net/i?id=e2d1158c084fc20b7cd1a5db70b31e27e13f7632-7760813-images-thumbs&n=13" alt="No Pasarn" class="w-full aspect-square object-cover">
                        <div class="p-3">
                            <h3 class="font-medium truncate">No Pasaran</h3>
                            <p class="text-sm text-gray-400 truncate">Santiz</p>
                        </div>
                    </div>
                    <div class="music-card" onclick="openTrack('31')">
                        <img src="https://avatars.mds.yandex.net/i?id=e2d1158c084fc20b7cd1a5db70b31e27e13f7632-7760813-images-thumbs&n=13" alt="No Parsaran 2" class="w-full aspect-square object-cover">
                        <div class="p-3">
                            <h3 class="font-medium truncate">No Pasaran 2</h3>
                            <p class="text-sm text-gray-400 truncate">Santiz</p>
                        </div>
                    </div>
                    <div class="music-card" onclick="openTrack('32')">
                        <img src="https://avatars.mds.yandex.net/i?id=e2d1158c084fc20b7cd1a5db70b31e27e13f7632-7760813-images-thumbs&n=13" alt="Mon Ami" class="w-full aspect-square object-cover">
                        <div class="p-3">
                            <h3 class="font-medium truncate">Mon Ami</h3>
                            <p class="text-sm text-gray-400 truncate">Santiz</p>
                        </div>
                    </div>
                    <div class="music-card" onclick="openTrack('33')">
                        <img src="https://avatars.mds.yandex.net/i?id=89460b39fe761ec5fdaf3d52be00af10b414d915-5253042-images-thumbs&n=13" alt="Spirit" class="w-full aspect-square object-cover">
                        <div class="p-3">
                            <h3 class="font-medium truncate">Spirit</h3>
                            <p class="text-sm text-gray-400 truncate">Кот Балу, Santiz</p>
                        </div>
                    </div>
                    <div class="music-card" onclick="openTrack('34')">
                        <img src="https://avatars.mds.yandex.net/i?id=e2d1158c084fc20b7cd1a5db70b31e27e13f7632-7760813-images-thumbs&n=13" alt="T.G.G." class="w-full aspect-square object-cover">
                        <div class="p-3">
                            <h3 class="font-medium truncate">T.G.G.</h3>
                            <p class="text-sm text-gray-400 truncate">Santiz</p>
                        </div>
                    </div>
                    <div class="music-card" onclick="openTrack('35')">
                        <img src="https://avatars.mds.yandex.net/i?id=e2d1158c084fc20b7cd1a5db70b31e27e13f7632-7760813-images-thumbs&n=13" alt="Второй том" class="w-full aspect-square object-cover">
                        <div class="p-3">
                            <h3 class="font-medium truncate">Второй том</h3>
                            <p class="text-sm text-gray-400 truncate">Keepitinside</p>
                        </div>
                    </div>
                    <div class="music-card" onclick="openTrack('36')">
                        <img src="https://avatars.mds.yandex.net/i?id=e2d1158c084fc20b7cd1a5db70b31e27e13f7632-7760813-images-thumbs&n=13" alt="Забытый бала" class="w-full aspect-square object-cover">
                        <div class="p-3">
                            <h3 class="font-medium truncate">Забытый бала</h3>
                            <p class="text-sm text-gray-400 truncate">Santiz</p>
                        </div>
                    </div>
                    <div class="music-card" onclick="openTrack('37')">
                        <img src="https://avatars.mds.yandex.net/i?id=e2d1158c084fc20b7cd1a5db70b31e27e13f7632-7760813-images-thumbs&n=13" alt="52 Герца" class="w-full aspect-square object-cover">
                        <div class="p-3">
                            <h3 class="font-medium truncate">52 Герца</h3>
                            <p class="text-sm text-gray-400 truncate">Santiz</p>
                        </div>
                    </div>
                    <div class="music-card" onclick="openTrack('38')">
                        <img src="https://avatars.mds.yandex.net/i?id=430c732bcd9f505e61097720bcbc6edce154c402-4600332-images-thumbs&n=13" alt="Пылает" class="w-full aspect-square object-cover">
                        <div class="p-3">
                            <h3 class="font-medium truncate">Пылает</h3>
                            <p class="text-sm text-gray-400 truncate">The Adresov</p>
                        </div>
                    </div>
                    <div class="music-card" onclick="openTrack('39')">
                        <img src="https://avatars.mds.yandex.net/i?id=b73748874e5b1cc755c2cf0a24010237_sr-11532301-images-thumbs&n=13" alt="Apt" class="w-full aspect-square object-cover">
                        <div class="p-3">
                            <h3 class="font-medium truncate">Apt</h3>
                            <p class="text-sm text-gray-400 truncate">Rose, Bruno Mars</p>
                        </div>
                    </div>
                    <div class="music-card" onclick="openTrack('40')">
                        <img src="https://avatars.mds.yandex.net/i?id=e2d1158c084fc20b7cd1a5db70b31e27e13f7632-7760813-images-thumbs&n=13" alt="Музе" class="w-full aspect-square object-cover">
                        <div class="p-3">
                            <h3 class="font-medium truncate">Музе</h3>
                            <p class="text-sm text-gray-400 truncate">Santiz</p>
                        </div>
                    </div>
                    <div class="music-card" onclick="openTrack('41')">
                        <img src="https://avatars.mds.yandex.net/i?id=0f54d60a2ac3cb673310f8b4bdd3b973fd2381c4-5859251-images-thumbs&n=13" alt="Я не спал" class="w-full aspect-square object-cover">
                        <div class="p-3">
                            <h3 class="font-medium truncate">Я не спал </h3>
                            <p class="text-sm text-gray-400 truncate">Amourski</p>
                        </div>
                    </div>
                    <div class="music-card" onclick="openTrack('42')">
                        <img src="https://avatars.mds.yandex.net/i?id=8d747447e74db0a4a120c63b089abb36546120fc-6467438-images-thumbs&n=13" alt="Я не смогла" class="w-full aspect-square object-cover">
                        <div class="p-3">
                            <h3 class="font-medium truncate">Я не смогла</h3>
                            <p class="text-sm text-gray-400 truncate">SCIRENA</p>
                        </div>
                    </div>
                    <div class="music-card" onclick="openTrack('43')">
                        <img src="https://avatars.mds.yandex.net/i?id=fd4158e3421507c26aa781c7cb056fa7e080fe2f-10414034-images-thumbs&n=13" alt="Ты мой сон" class="w-full aspect-square object-cover">
                        <div class="p-3">
                            <h3 class="font-medium truncate">Ты мой сон</h3>
                            <p class="text-sm text-gray-400 truncate">Убитый Счастьем</p>
                        </div>
                    </div>
                    <div class="music-card" onclick="openTrack('44')">
                        <img src="https://avatars.mds.yandex.net/i?id=be3645876e5d433fe695c1651b4f62bfdbd529d1-10963969-images-thumbs&n=13" alt="Влюбился" class="w-full aspect-square object-cover">
                        <div class="p-3">
                            <h3 class="font-medium truncate">Влюбился</h3>
                            <p class="text-sm text-gray-400 truncate">The Adresov</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Страница трека -->
        <div id="track-view" class="hidden">
            <button onclick="backToMain()" class="flex items-center text-gray-400 hover:text-white mb-8">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="mr-2">
                    <line x1="19" y1="12" x2="5" y2="12"></line>
                    <polyline points="12 19 5 12 12 5"></polyline>
                </svg>
                Назад
            </button>
            <div class="track-view-container flex flex-col md:flex-row gap-8">
                <div class="track-image-container md:w-1/3 flex flex-col items-center">
                    <img id="track-image" src="" alt="Обложка" class="w-64 h-64 md:w-80 md:h-80 rounded-2xl object-cover mb-6 shadow-lg">
                    <h1 id="track-title" class="text-3xl font-bold text-center mb-2"></h1>
                    <h2 id="track-artist" class="text-xl text-gray-400 text-center mb-8"></h2>
                    <div class="flex gap-4 mb-8 flex-wrap justify-center">
                        <button onclick="playPreviousTrack()" class="nav-btn" aria-label="Предыдущий трек">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polygon points="19 3 5 12 19 21 19 3"></polygon>
                                <line x1="5" y1="3" x2="5" y2="21"></line>
                            </svg>
                        </button>
                        <button onclick="togglePlay()" class="bg-green-600 px-8 py-3 rounded-full hover:bg-green-700 transition flex items-center" aria-label="Воспроизведение/Пауза">
                            <svg id="play-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="mr-2">
                                <polygon points="5 3 19 12 5 21 5 3"></polygon>
                            </svg>
                            <svg id="pause-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="mr-2 hidden">
                                <rect x="6" y="4" width="4" height="16"></rect>
                                <rect x="14" y="4" width="4" height="16"></rect>
                            </svg>
                            <span id="play-text">Играть</span>
                        </button>
                        <button onclick="playNextTrack()" class="nav-btn" aria-label="Следующий трек">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polygon points="5 3 19 12 5 21 5 3"></polygon>
                                <line x1="19" y1="3" x2="19" y2="21"></line>
                            </svg>
                        </button>
                        <button id="loop-toggle" onclick="toggleLoop()" class="loop-toggle" aria-label="Переключить режим повтора">
                            <svg id="loop-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M14 3l-4 4 4 4"></path>
                                <path d="M10 21l4-4-4-4"></path>
                                <path d="M17 3h4v4"></path>
                                <path d="M7 21H3v-4"></path>
                            </svg>
                            <span id="loop-text">Повтор: Выкл</span>
                        </button>
                        <button onclick="openAddToPlaylistModal()" class="bg-gray-600 px-4 py-2 rounded-full hover:bg-gray-700 transition flex items-center">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 16" fill="none" stroke="currentColor" stroke-width="2" class="mr-2">
                                <line x1="12" y1="5" x2="12" y2="19"></line>
                                <line x1="5" y1="12" x2="19" y2="12"></line>
                            </svg>
                            Добавить в плейлист
                        </button>
                        <button onclick="shareTrack()" class="share-btn">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="mr-2">
                                <circle cx="18" cy="5" r="3"></circle>
                                <circle cx="6" cy="12" r="3"></circle>
                                <circle cx="18" cy="19" r="3"></circle>
                                <line x1="8.59" y1="13.51" x2="15.42" y2="17.49"></line>
                                <line x1="15.41" y1="6.51" x2="8.59" y2="10.49"></line>
                            </svg>
                            Поделиться
                        </button>
                        <button id="autoplay-toggle" onclick="toggleAutoplay()" class="autoplay-toggle">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="mr-2">
                                <path d="M21 7v10l-9-5 9-5z"></path>
                                <path d="M12 7v10l-9-5 9-5z"></path>
                            </svg>
                            <span id="autoplay-text">Автовоспроизведение: Вкл</span>
                        </button>
                        <button onclick="cacheTrack(currentTrackId)" class="offline-btn bg-blue-600 px-4 py-2 rounded-full hover:bg-blue-700 transition flex items-center">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="mr-2">
                                <path d="M3 15v4c0 1.1.9 2 2 2h14a2 2 0 0 0 2-2v-4M17 9l-5 5-5-5M12 12.8V2.5"/>
                            </svg>
                            Сохранить офлайн
                        </button>
                    </div>
                    <div class="w-full mb-8">
                        <div class="flex justify-between text-sm text-gray-400 mb-2">
                            <span id="current-time">00:00</span>
                            <span id="total-time">00:00</span>
                        </div>
                        <input type="range" id="progress-bar" value="0" max="100" class="w-full h-2 rounded-full appearance-none bg-gray-700">
                        <div class="text-sm text-gray-400 mt-2">
                            <span id="remaining-time">Осталось: -00:00</span>
                        </div>
                    </div>
                </div>
                <div class="lyrics-container md:w-2/3 md:pl-8">
                    <div class="flex justify-between items-center mb-6">
                        <h3 class="text-2xl font-semibold">Текст песни</h3>
                        <div class="flex gap-4">
                            <button id="translation-toggle" onclick="toggleTranslation()" class="translation-toggle hidden">
                                Показать перевод
                            </button>
                            <button id="fullscreen-lyrics-btn" onclick="toggleFullscreenLyrics()" class="bg-gray-700/50 hover:bg-gray-600/50 p-2 rounded-lg transition">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"></path>
                                </svg>
                            </button>
                        </div>
                    </div>
                    <div id="lyrics-container" class="bg-gray-800/50 rounded-xl p-6 max-h-96 overflow-y-auto"></div>
                    <h3 class="text-2xl font-semibold mt-12 mb-6">Похожие треки</h3>
                    <div class="flex overflow-x-auto gap-6 pb-4"></div>
                </div>
            </div>
        </div>

        <!-- Полноэкранные тексты -->
        <div id="fullscreen-lyrics" class="fullscreen-lyrics hidden">
            <button class="close-fullscreen" onclick="toggleFullscreenLyrics()" aria-label="Закрыть полноэкранный режим">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <line x1="18" y1="6" x2="6" y2="18"></line>
                    <line x1="6" y1="6" x2="18" y2="18"></line>
                </svg>
            </button>
            <div class="fullscreen-lyrics-content" id="fullscreen-lyrics-content"></div>
            <div class="fullscreen-controls flex justify-center gap-4">
                <button onclick="togglePlay()" class="bg-green-600 px-6 py-2 rounded-full hover:bg-green-700 transition text-lg font-semibold">
                    <span id="fullscreen-play-text">Пауза</span>
                </button>
                <button id="fullscreen-translation-toggle" onclick="toggleTranslation()" class="translation-toggle hidden">
                    Показать перевод
                </button>
            </div>
            <button class="fullscreen-toggle" onclick="toggleFullscreenLyrics()" aria-label="Свернуть полноэкранный режим">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3"></path>
                </svg>
                Свернуть
            </button>
        </div>

        <!-- Панель плеера -->
        <div id="player" class="fixed bottom-0 left-0 right-0 bg-gray-800 p-4 hidden border-t border-gray-700">
            <div class="container mx-auto flex items-center justify-between">
                <div class="flex items-center space-x-4 flex-1 min-w-0">
                    <img id="player-image" src="" alt="Обложка" class="w-12 h-12 object-cover rounded-lg">
                    <div class="truncate">
                        <h3 id="player-title" class="font-semibold truncate"></h3>
                        <p id="player-artist" class="text-sm text-gray-400 truncate"></p>
                    </div>
                </div>
                <div class="flex items-center space-x-4 ml-4">
                    <div class="flex text-sm text-gray-400 gap-2">
                        <span id="player-current-time">00:00</span>
                        <span>/</span>
                        <span id="player-total-time">00:00</span>
                        <span id="player-remaining-time" class="ml-2">Осталось: -00:00</span>
                    </div>
                    <button onclick="playPreviousTrack()" class="nav-btn" aria-label="Предыдущий трек">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polygon points="19 3 5 12 19 21 19 3"></polygon>
                            <line x1="5" y1="3" x2="5" y2="21"></line>
                        </svg>
                    </button>
                    <button onclick="togglePlay()" class="bg-green-600 p-3 rounded-full hover:bg-green-700 transition flex-shrink-0" aria-label="Воспроизведение/Пауза">
                        <svg id="player-play-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polygon points="5 3 19 12 5 21 5 3"></polygon>
                        </svg>
                        <svg id="player-pause-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="hidden">
                            <rect x="6" y="4" width="4" height="16"></rect>
                            <rect x="14" y="4" width="4" height="16"></rect>
                        </svg>
                    </button>
                    <button onclick="playNextTrack()" class="nav-btn" aria-label="Следующий трек">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polygon points="5 3 19 12 5 21 5 3"></polygon>
                            <line x1="19" y1="3" x2="19" y2="21"></line>
                        </svg>
                    </button>
                    <button id="player-loop-toggle" onclick="toggleLoop()" class="loop-toggle" aria-label="Переключить режим повтора">
                        <svg id="player-loop-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M14 3l-4 4 4 4"></path>
                            <path d="M10 21l4-4-4-4"></path>
                            <path d="M17 3h4v4"></path>
                            <path d="M7 21H3v-4"></path>
                        </svg>
                        <span id="player-loop-text">Повтор: Выкл</span>
                    </button>
                    <input type="range" id="volume-control" value="50" max="100" class="w-20 md:w-24 h-2 rounded-full appearance-none bg-gray-700">
                </div>
            </div>
        </div>

        <!-- Модальные окна -->
        <div id="create-playlist-modal" class="modal hidden">
            <div class="modal-content">
                <h2 class="text-xl font-semibold mb-4">Создать плейлист</h2>
                <input id="playlist-name-input" type="text" placeholder="Название плейлиста" maxlength="50">
                <div class="flex justify-end mt-4">
                    <button onclick="createPlaylist()" class="bg-green-600 px-4 py-2 rounded-full hover:bg-green-700 transition">Создать</button>
                    <button onclick="closeCreatePlaylistModal()" class="bg-gray-600 px-4 py-2 rounded-full hover:bg-gray-700 transition">Отмена</button>
                </div>
            </div>
        </div>
        <div id="add-to-playlist-modal" class="modal hidden">
            <div class="modal-content">
                <h2 class="text-xl font-semibold mb-4">Добавить в плейлист</h2>
                <div id="playlists-list" class="mb-4"></div>
                <div class="flex justify-end">
                    <button onclick="closeAddToPlaylistModal()" class="bg-gray-600 px-4 py-2 rounded-full hover:bg-gray-700 transition">Закрыть</button>
                </div>
            </div>
        </div>
        <div id="share-modal" class="modal hidden">
            <div class="modal-content">
                <h2 class="text-xl font-semibold mb-4">Поделиться треком</h2>
                <div id="share-options" class="mb-4">
                    <div class="flex items-center gap-2 bg-gray-700/50 p-2 rounded-lg cursor-pointer hover:bg-gray-600/50" onclick="copyTrackUrl()">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                            <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                        </svg>
                        Копировать ссылку
                    </div>
                    <div class="flex items-center gap-2 bg-gray-700/50 p-2 rounded-lg cursor-pointer hover:bg-gray-600/50" onclick="shareToTwitter()">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.2 0 3-1.2 3-1.2z"></path>
                        </svg>
                        Поделиться в Twitter/X
                    </div>
                    <div class="flex items-center gap-2 bg-gray-700/50 p-2 rounded-lg cursor-pointer hover:bg-gray-600/50" onclick="shareToWhatsApp()">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"></path>
                        </svg>
                        Поделиться в WhatsApp
                    </div>
                    <div class="flex items-center gap-2 bg-gray-700/50 p-2 rounded-lg cursor-pointer hover:bg-gray-600/50" onclick="shareToTelegram()">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M21 2l-2 20-7-6-5 3 1-7 13-10z"></path>
                        </svg>
                        Поделиться в Telegram
                    </div>
                </div>
                <div id="manual-copy" class="hidden mb-4">
                    <p class="mb-2">Скопируйте ссылку вручную:</p>
                    <input id="manual-copy-id" type="text" readonly class="w-full">
                    <button onclick="selectManualCopyText()" class="bg-green-600 px-4 py-2 rounded-full hover:bg-green-700 transition mt-2">Выделить</button>
                </div>
                <div class="flex justify-end">
                    <button onclick="closeShareModal()" class="bg-gray-600 px-4 py-2 rounded-full hover:bg-gray-700 transition">Закрыть</button>
                </div>
            </div>
        </div>

        <script src="app.js"></script>
</body>
</html>

